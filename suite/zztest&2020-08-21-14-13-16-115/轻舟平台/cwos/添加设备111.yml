config:
    base_url: http://10.128.138.240:80
    name: "\u6DFB\u52A0\u8BBE\u5907111"
    variables: {}
    verify: 'false'
teststeps:
-   extract:
        captchaKey: body.data.captchaKey
    name: "\u83B7\u53D6\u9A8C\u8BC1\u7801"
    request:
        headers:
            Content-Type: application/json
        json:
            height: 70
            width: 134
        method: POST
        url: /cwos-portal/portal/account/captcha
    validate:
    -   eq:
        - body.code
        - '00000000'
-   extract:
        loginToken: body.data.accessToken
    name: "\u767B\u5F55"
    request:
        headers:
            Content-Type: application/json;charset=UTF-8
        json:
            captchaKey: $captchaKey
            corpCode: liketest
            loginName: liketest
            password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
            type: 1
            verifyCode: ${getVerifyCode($captchaKey)}
        method: POST
        url: /cwos-portal/portal/account/login
    validate:
    -   eq:
        - body.code
        - '00000000'
-   name: "\u65B0\u589E\u533A\u4F4D_1"
    request:
        headers:
            Authorization: Basic $loginToken
            Content-Type: application/json
        json:
            districtId: '110102'
            level: 0
            name: "\u533A\u4F4D_a"
            parentId: ''
        method: POST
        url: /cwos-portal/component/device/area/add
-   name: "\u65B0\u589E\u8BBE\u5907"
    request:
        headers:
            Authorization: Basic $loginToken
            Content-Type: application/json
        json:
            areaAddr: 116.36003,39.9305
            areaAddress: 116.36003,39.9305
            areaId: ${getareaid($getbusiness_id)}
            cameraControlPort: ''
            cameraIp: ''
            cameraMainRtspUrl: ''
            cameraPassword: ''
            cameraUserName: ''
            deviceCode: "\u63A5\u53E3\u6DFB\u52A0_1"
            deviceName: "\u63A5\u53E3\u6DFB\u52A0_1"
            deviceTypeId: 0123456789666666
            districtId: '110102'
            districtIds:
            - '110000'
            - '110100'
            - '110102'
            identifyType: 0
            isAutoSync: 0
            isCamera: 1
            isSnapshot: 1
            latitude: '39.9305'
            lonLat: 116.36003,39.9305
            longitude: '116.36003'
            parentCode: ''
            protocol: ''
            snapshotProtocol: ''
            typeIdTree: 1,0123456789666666
        method: POST
        url: /cwos-portal/component/device/add
